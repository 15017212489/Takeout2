{"ast":null,"code":"/*\r\najax请求函数模块\r\n返回值: promise对象(异步返回的数据是: response.data)\r\n */\nimport axios from 'axios';\nexport default function ajax(url, data = {}, type = 'GET') {\n  return new Promise(function (resolve, reject) {\n    // 执行异步ajax请求\n    let promise;\n\n    if (type === 'GET') {\n      // 准备url query参数数据\n      let dataStr = ''; // 数据拼接字符串\n\n      Object.keys(data).forEach(key => {\n        dataStr += key + '=' + data[key] + '&';\n      });\n\n      if (dataStr !== '') {\n        dataStr = dataStr.substring(0, dataStr.lastIndexOf('&'));\n        url = url + '?' + dataStr;\n      } // 发送get请求\n\n\n      promise = axios.get(url);\n    } else {\n      // 发送post请求\n      promise = axios.post(url, data);\n    }\n\n    promise.then(function (response) {\n      // 成功了调用resolve()\n      resolve(response.data);\n    }).catch(function (error) {\n      // 失败了调用reject()\n      reject(error);\n    });\n  });\n}","map":{"version":3,"names":["axios","ajax","url","data","type","Promise","resolve","reject","promise","dataStr","Object","keys","forEach","key","substring","lastIndexOf","get","post","then","response","catch","error"],"sources":["D:/Vue_xm/takeout2/src/api/ajax.js"],"sourcesContent":["/*\r\najax请求函数模块\r\n返回值: promise对象(异步返回的数据是: response.data)\r\n */\r\nimport axios from 'axios'\r\n\r\nexport default function ajax (url, data = {}, type = 'GET') {\r\n  return new Promise(function (resolve, reject) {\r\n    // 执行异步ajax请求\r\n    let promise\r\n    if (type === 'GET') {\r\n      // 准备url query参数数据\r\n      let dataStr = '' // 数据拼接字符串\r\n      Object.keys(data).forEach(key => {\r\n        dataStr += key + '=' + data[key] + '&'\r\n      })\r\n      if (dataStr !== '') {\r\n        dataStr = dataStr.substring(0, dataStr.lastIndexOf('&'))\r\n        url = url + '?' + dataStr\r\n      }\r\n      // 发送get请求\r\n      promise = axios.get(url)\r\n    } else {\r\n      // 发送post请求\r\n      promise = axios.post(url, data)\r\n    }\r\n    promise.then(function (response) {\r\n      // 成功了调用resolve()\r\n      resolve(response.data)\r\n    }).catch(function (error) {\r\n      // 失败了调用reject()\r\n      reject(error)\r\n    })\r\n  })\r\n}"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,IAAT,CAAeC,GAAf,EAAoBC,IAAI,GAAG,EAA3B,EAA+BC,IAAI,GAAG,KAAtC,EAA6C;EAC1D,OAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;IAC5C;IACA,IAAIC,OAAJ;;IACA,IAAIJ,IAAI,KAAK,KAAb,EAAoB;MAClB;MACA,IAAIK,OAAO,GAAG,EAAd,CAFkB,CAED;;MACjBC,MAAM,CAACC,IAAP,CAAYR,IAAZ,EAAkBS,OAAlB,CAA0BC,GAAG,IAAI;QAC/BJ,OAAO,IAAII,GAAG,GAAG,GAAN,GAAYV,IAAI,CAACU,GAAD,CAAhB,GAAwB,GAAnC;MACD,CAFD;;MAGA,IAAIJ,OAAO,KAAK,EAAhB,EAAoB;QAClBA,OAAO,GAAGA,OAAO,CAACK,SAAR,CAAkB,CAAlB,EAAqBL,OAAO,CAACM,WAAR,CAAoB,GAApB,CAArB,CAAV;QACAb,GAAG,GAAGA,GAAG,GAAG,GAAN,GAAYO,OAAlB;MACD,CATiB,CAUlB;;;MACAD,OAAO,GAAGR,KAAK,CAACgB,GAAN,CAAUd,GAAV,CAAV;IACD,CAZD,MAYO;MACL;MACAM,OAAO,GAAGR,KAAK,CAACiB,IAAN,CAAWf,GAAX,EAAgBC,IAAhB,CAAV;IACD;;IACDK,OAAO,CAACU,IAAR,CAAa,UAAUC,QAAV,EAAoB;MAC/B;MACAb,OAAO,CAACa,QAAQ,CAAChB,IAAV,CAAP;IACD,CAHD,EAGGiB,KAHH,CAGS,UAAUC,KAAV,EAAiB;MACxB;MACAd,MAAM,CAACc,KAAD,CAAN;IACD,CAND;EAOD,CA1BM,CAAP;AA2BD"},"metadata":{},"sourceType":"module"}
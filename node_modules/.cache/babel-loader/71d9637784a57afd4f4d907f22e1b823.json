{"ast":null,"code":"import ShopList from '../../components/ShopList/ShopList';\nimport HeaderTop from '../../components/HeaderTop/HeaderTop.vue';\nimport Swiper from 'swiper';\nimport 'swiper/dist/css/swiper.css';\nimport { mapState } from 'vuex';\nexport default {\n  mounted() {\n    //this.$store.dispatch('getCategorys')\n    //实例 Swiper对象\n    new Swiper('.swiper-container', {\n      loop: true,\n      //循环\n      pagination: {\n        el: '.swiper-pagination',\n        clickable: true\n      }\n    });\n  },\n\n  components: {\n    HeaderTop,\n    ShopList\n  },\n  computed: { ...mapState(['address', 'categorys']),\n\n    categorysArr() {\n      const {\n        categorys\n      } = this; // 准备空的二维数组\n\n      const arr = [];\n      let minarr = []; // 遍历categorys\n\n      categorys.forEach(c => {\n        minarr.push(c);\n\n        if (minarr.length === 8) {\n          arr.push(minarr);\n          minarr = [];\n        }\n      });\n\n      if (minarr.length > 0) {\n        arr.push(minarr);\n      }\n\n      return arr;\n    }\n\n  },\n  watch: {\n    categorys() {\n      this.$nextTick(() => {\n        // 创建一个Swiper对象，来实现轮播\n        // eslint-disable-next-line no-new\n        new Swiper('.swiper-container', {\n          direction: 'horizontal',\n          // 垂直切换选项\n          loop: true,\n          // 循环模式选项\n          autoplay: true,\n          // 如果需要分页器\n          pagination: {\n            el: '.swiper-pagination',\n            clickable: true\n          }\n        });\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA8IA;AACA;AACA;AACA;AACA;AACA;EACAA;IAEA;IAEA;IACA;MACAC,UADA;MACA;MACAC;QACAC,wBADA;QAEAC;MAFA;IAFA;EAOA,CAbA;;EAcAC;IACAC,SADA;IACAC;EADA,CAdA;EAiBAC,YACA,qCADA;;IAEAC;MACA;QAAAC;MAAA,SADA,CAEA;;MACA;MACA,gBAJA,CAKA;;MACAA;QACAC;;QACA;UACAC;UACAD;QACA;MACA,CANA;;MAOA;QACAC;MACA;;MACA;IACA;;EAnBA,CAjBA;EAsCAC;IACAH;MACA;QACA;QACA;QACA;UACAI,uBADA;UACA;UACAb,UAFA;UAEA;UACAc,cAHA;UAKA;UACAb;YACAC,wBADA;YAEAC;UAFA;QANA;MAWA,CAdA;IAeA;;EAjBA;AAtCA","names":["mounted","loop","pagination","el","clickable","components","HeaderTop","ShopList","computed","categorysArr","categorys","minarr","arr","watch","direction","autoplay"],"sourceRoot":"src/pages/MSite","sources":["MSite.vue"],"sourcesContent":["<template>\r\n  <div class=\"msite\">\r\n    <HeaderTop :title=\"address.name\">\r\n      <span class=\"header_search\" slot=\"left\">\r\n        <router-link to=\"/search\"><i class=\"iconfont icon-sousuo\"></i></router-link>\r\n      </span>\r\n      <span class=\"header_login\" slot=\"right\">\r\n        <router-link to=\"/login\"><span class=\"header_login_text\">登录|注册</span></router-link>\r\n      </span>\r\n    </HeaderTop>\r\n    <!-- <nav class=\"msite_nav\">\r\n      <div class=\"swiper-container\">\r\n        <div class=\"swiper-wrapper\">\r\n          <div class=\"swiper-slide\" v-for=\"(categorys,index) in categorysArr\" key=\"index\">\r\n            <a href=\"#\" class=\"link_to_food\" v-for=\"(category,index) in categorys\" key=\"index\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div class=\"swiper-pagination\"></div>\r\n      </div>\r\n    </nav> -->\r\n    <nav class=\"msite_nav\">\r\n      <div class=\"swiper-container\">\r\n        <div class=\"swiper-wrapper\">\r\n          <div class=\"swiper-slide\">\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n          </div>\r\n          <div class=\"swiper-slide\">\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n            <a href=\"#\" class=\"link_to_food\">\r\n              <div class=\"food_container\">\r\n                <img src=\"./imgs/Hamburger.png\">\r\n              </div>\r\n              <span>商超便利1</span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n    <div class=\"msite_shop_list\">\r\n      <div class=\"shop_header\">\r\n        <i class=\"iconfont icon-xuanxiang shop_icon\"></i>\r\n        <span class=\"shop_header_title\">附近商家</span>\r\n      </div>\r\n      <ShopList/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import ShopList from '../../components/ShopList/ShopList';\r\n  import HeaderTop from '../../components/HeaderTop/HeaderTop.vue';\r\n  import Swiper from 'swiper';\r\n  import 'swiper/dist/css/swiper.css';\r\n  import {mapState} from 'vuex'\r\n  export default{\r\n    mounted(){\r\n\r\n      //this.$store.dispatch('getCategorys')\r\n\r\n      //实例 Swiper对象\r\n      new Swiper('.swiper-container',{\r\n        loop: true, //循环\r\n        pagination: {\r\n          el: '.swiper-pagination',\r\n          clickable: true,\r\n        },\r\n      })\r\n    },\r\n    components:{\r\n      HeaderTop,ShopList\r\n    },\r\n    computed: {\r\n      ...mapState(['address','categorys']),\r\n      categorysArr () {\r\n        const {categorys} = this\r\n        // 准备空的二维数组\r\n        const arr = []\r\n        let minarr = []\r\n        // 遍历categorys\r\n        categorys.forEach(c => {\r\n          minarr.push(c)\r\n          if (minarr.length === 8) {\r\n            arr.push(minarr)\r\n            minarr = []\r\n          }\r\n        })\r\n        if (minarr.length > 0) {\r\n          arr.push(minarr)\r\n        }\r\n        return arr\r\n      }\r\n    },\r\n    watch: {\r\n      categorys () {\r\n        this.$nextTick(() => {\r\n          // 创建一个Swiper对象，来实现轮播\r\n          // eslint-disable-next-line no-new\r\n          new Swiper('.swiper-container', {\r\n            direction: 'horizontal', // 垂直切换选项\r\n            loop: true, // 循环模式选项\r\n            autoplay: true,\r\n\r\n            // 如果需要分页器\r\n            pagination: {\r\n              el: '.swiper-pagination',\r\n              clickable: true,\r\n            }\r\n          })\r\n        })\r\n      }\r\n    },\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  @import \"../../common/style/mixins.less\";\r\n  .msite{\r\n    width: 100%;\r\n    overflow: hidden;\r\n    .msite_header{\r\n      background-color: #02a774;\r\n      position: fixed;\r\n      z-index: 100;\r\n      left: 0;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 45px;\r\n      .header_search{\r\n        position: absolute;\r\n        left: 15px;\r\n         top: 50%;\r\n         transform: translateY(-50%);\r\n         width: 10%;\r\n         height: 50%;\r\n         .icon-sousuo{\r\n           font-size: 25px;\r\n           color: #fff;\r\n         }\r\n      }\r\n      .header_title{\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        width: 50%;\r\n        color: #fff;\r\n        text-align: center;\r\n        .header_title_text{\r\n          font-size: 20px;\r\n          color: #fff;\r\n          display: block;\r\n        }\r\n      }\r\n      .header_login{\r\n        font-size: 14px;\r\n        color: #fff;\r\n        position: absolute;\r\n        right: 15px;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        .header_login_text{\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n    .msite_nav{\r\n      .bottom-border-1px(#e4e4e4);\r\n      margin-top: 45px;\r\n      height: 200px;\r\n      background-color: #fff;\r\n      .swiper-container{\r\n        width: 100%;\r\n        height: 100%;\r\n        .swiper-wrapper{\r\n          width: 100%;\r\n          height: 100%;\r\n          .swiper-slide{\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: flex-start;\r\n            flex-wrap: wrap;\r\n            .link_to_food{\r\n              width: 25%;\r\n              .food_container{\r\n                display: block;\r\n                width: 100%;\r\n                text-align: center;\r\n                padding-bottom: 10px;\r\n                font-size: 0;\r\n                img{\r\n                  display: inline-block;\r\n                  width: 50px;\r\n                  height: 50px;\r\n                }\r\n              }\r\n              span{\r\n                  display: block;\r\n                  width: 100%;\r\n                  text-align: center;\r\n                  font-size: 13px;\r\n                  color: #666;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .swiper-pagination>.swiper-pagination-bullet-active{\r\n          background-color: #02a774;\r\n        }\r\n      }\r\n    }\r\n    .msite_shop_list{\r\n      .top-border-1px(#e4e4e4);\r\n      margin-top: 10px;\r\n      background-color: #fff;\r\n      .shop_header{\r\n        padding: 10px 10px 0;\r\n        .shop_icon{\r\n          margin-left: 5px;\r\n          color: #999;\r\n        }\r\n        .shop_header_title{\r\n          color: #999;\r\n          font-size: 14px;\r\n          line-height: 20px;\r\n          margin-left: 5px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}
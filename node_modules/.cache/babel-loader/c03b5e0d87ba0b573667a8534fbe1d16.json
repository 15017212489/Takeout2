{"ast":null,"code":"import HeaderTop from '../../components/HeaderTop/HeaderTop.vue';\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      data: 1,\n      //info表\n      info: [],\n      id1: '',\n      name1: '',\n      //business表\n      business: [],\n      id2: '',\n      name2: '',\n      star: '',\n      sale: '',\n      price: '',\n      delivery: '',\n      //account表\n      account: [],\n      id3: '',\n      username: '',\n      password: ''\n    };\n  },\n\n  mounted() {\n    this.all();\n  },\n\n  methods: {\n    all() {\n      //查找info表全部数据\n      axios.get('http://127.0.0.1/list/all').then(res => {\n        this.info = res.data;\n      }).catch(err => {\n        console.log(\"获取数据失败\" + err);\n      }); //查找business表全部数据\n\n      axios.get('http://127.0.0.1/business_list/all').then(res => {\n        this.business = res.data;\n      }).catch(err => {\n        console.log(\"获取数据失败\" + err);\n      }); //查找account表全部数据\n\n      axios.get('http://127.0.0.1/account/all').then(res => {\n        this.account = res.data;\n      }).catch(err => {\n        console.log(\"获取数据失败\" + err);\n      });\n    },\n\n    del() {\n      //删除\n      axios.get('http://127.0.0.1/list/del', {\n        params: {\n          id: this.id1\n        }\n      }).then(res => {\n        // console.log(res.data);\n        if (res.data.status == 200) {\n          this.all();\n        } else {\n          this.$message({\n            message: '删除失败',\n            type: 'error'\n          });\n        }\n      }).catch(err => {\n        console.log(\"操作失败\" + err);\n      });\n    },\n\n    del2() {\n      //删除\n      axios.get('http://127.0.0.1/business_list/del', {\n        params: {\n          id: this.id2\n        }\n      }).then(res => {\n        // console.log(res.data);\n        if (res.data.status == 200) {\n          this.all();\n        } else {\n          this.$message({\n            message: '删除失败',\n            type: 'error'\n          });\n        }\n      }).catch(err => {\n        console.log(\"操作失败\" + err);\n      });\n    },\n\n    add() {\n      //添加\n      axios.get('http://127.0.0.1/list/add', {\n        params: {\n          id: this.id1,\n          name: this.name1\n        }\n      }).then(res => {\n        // console.log(res.data);\n        if (res.data.status == 200) {\n          this.all();\n        } else {\n          this.$message({\n            message: '添加失败',\n            type: 'error'\n          });\n        }\n      }).catch(err => {\n        console.log(\"操作失败\" + err);\n      });\n    },\n\n    add2() {\n      //添加\n      axios.get('http://127.0.0.1/business_list/add', {\n        params: {\n          id: this.id2,\n          name: this.name2,\n          star: this.star,\n          sale: this.sale,\n          price: this.price,\n          delivery: this.delivery\n        }\n      }).then(res => {\n        // console.log(res.data);\n        if (res.data.status == 200) {\n          this.all();\n        } else {\n          this.$message({\n            message: '添加失败',\n            type: 'error'\n          });\n        }\n      }).catch(err => {\n        console.log(\"操作失败\" + err);\n      });\n    },\n\n    update() {\n      //修改\n      axios.get('http://127.0.0.1/list/update', {\n        params: {\n          id: this.id1,\n          name: this.name1\n        }\n      }).then(res => {\n        // console.log(res.data);\n        if (res.data.status == 200) {\n          this.all();\n        } else {\n          this.$message({\n            message: '修改失败',\n            type: 'error'\n          });\n        }\n      }).catch(err => {\n        console.log(\"操作失败\" + err);\n      });\n    },\n\n    update2() {\n      //修改\n      axios.get('http://127.0.0.1/business_list/update', {\n        params: {\n          id: this.id2,\n          name: this.name2,\n          star: this.star,\n          sale: this.sale,\n          price: this.price,\n          delivery: this.delivery\n        }\n      }).then(res => {\n        // console.log(res.data);\n        if (res.data.status == 200) {\n          this.all();\n        } else {// this.$message({\n          //     message: '修改失败',\n          //     type: 'error'\n          // });\n        }\n      }).catch(err => {\n        console.log(\"操作失败\" + err);\n      });\n    }\n\n  },\n  components: {\n    HeaderTop\n  }\n};","map":{"version":3,"mappings":"AAqGA;AACA;AACA;EACAA;IACA;MACAA,OADA;MAEA;MACAC,QAHA;MAIAC,OAJA;MAKAC,SALA;MAMA;MACAC,YAPA;MAQAC,OARA;MASAC,SATA;MAUAC,QAVA;MAWAC,QAXA;MAYAC,SAZA;MAaAC,YAbA;MAcA;MACAC,WAfA;MAgBAC,OAhBA;MAiBAC,YAjBA;MAkBAC;IAlBA;EAoBA,CAtBA;;EAuBAC;IACA;EACA,CAzBA;;EA0BAC;IACAC;MACA;MACAC;QACA;MACA,CAFA,EAEAC,KAFA,CAEAC;QACAC;MACA,CAJA,EAFA,CAOA;;MACAH;QACA;MACA,CAFA,EAEAC,KAFA,CAEAC;QACAC;MACA,CAJA,EARA,CAaA;;MACAH;QACA;MACA,CAFA,EAEAC,KAFA,CAEAC;QACAC;MACA,CAJA;IAKA,CApBA;;IAqBAC;MACA;MACAJ;QACAK;UACAC;QADA;MADA,GAIAC,IAJA,CAIAC;QACA;QACA;UACA;QACA,CAFA,MAEA;UACA;YACAC,eADA;YAEAC;UAFA;QAIA;MACA,CAdA,EAcAT,KAdA,CAcAC;QACAC;MACA,CAhBA;IAiBA,CAxCA;;IAyCAQ;MACA;MACAX;QACAK;UACAC;QADA;MADA,GAIAC,IAJA,CAIAC;QACA;QACA;UACA;QACA,CAFA,MAEA;UACA;YACAC,eADA;YAEAC;UAFA;QAIA;MACA,CAdA,EAcAT,KAdA,CAcAC;QACAC;MACA,CAhBA;IAiBA,CA5DA;;IA6DAS;MACA;MACAZ;QACAK;UACAC,YADA;UAEAO;QAFA;MADA,GAKAN,IALA,CAKAC;QACA;QACA;UACA;QACA,CAFA,MAEA;UACA;YACAC,eADA;YAEAC;UAFA;QAIA;MACA,CAfA,EAeAT,KAfA,CAeAC;QACAC;MACA,CAjBA;IAkBA,CAjFA;;IAkFAW;MACA;MACAd;QACAK;UACAC,YADA;UAEAO,gBAFA;UAGAxB,eAHA;UAIAC,eAJA;UAKAC,iBALA;UAMAC;QANA;MADA,GASAe,IATA,CASAC;QACA;QACA;UACA;QACA,CAFA,MAEA;UACA;YACAC,eADA;YAEAC;UAFA;QAIA;MACA,CAnBA,EAmBAT,KAnBA,CAmBAC;QACAC;MACA,CArBA;IAsBA,CA1GA;;IA2GAY;MACA;MACAf;QACAK;UACAC,YADA;UAEAO;QAFA;MADA,GAKAN,IALA,CAKAC;QACA;QACA;UACA;QACA,CAFA,MAEA;UACA;YACAC,eADA;YAEAC;UAFA;QAIA;MACA,CAfA,EAeAT,KAfA,CAeAC;QACAC;MACA,CAjBA;IAkBA,CA/HA;;IAgIAa;MACA;MACAhB;QACAK;UACAC,YADA;UAEAO,gBAFA;UAGAxB,eAHA;UAIAC,eAJA;UAKAC,iBALA;UAMAC;QANA;MADA,GASAe,IATA,CASAC;QACA;QACA;UACA;QACA,CAFA,MAEA,CACA;UACA;UACA;UACA;QACA;MACA,CAnBA,EAmBAP,KAnBA,CAmBAC;QACAC;MACA,CArBA;IAsBA;;EAxJA,CA1BA;EAoLAc;IACAC;EADA;AApLA","names":["data","info","id1","name1","business","id2","name2","star","sale","price","delivery","account","id3","username","password","mounted","methods","all","axios","catch","err","console","del","params","id","then","res","message","type","del2","add","name","add2","update","update2","components","HeaderTop"],"sourceRoot":"src/pages/Bdata","sources":["Bdata.vue"],"sourcesContent":["<template>\r\n    <div class=\"backgroud\">\r\n        <HeaderTop title=\"后台数据管理\"></HeaderTop>\r\n        <div class=\"Bdata\">\r\n            <div class=\"Bdata_select\">\r\n                <div class=\"Bdata_title\">\r\n                    <a href=\"#\" :class=\"{on: data == 1}\" @click=\"data = 1\">info表</a>\r\n                    <a href=\"#\" :class=\"{on: data == 2}\" @click=\"data = 2\">business表</a>\r\n                    <a href=\"#\" :class=\"{on: data == 3}\" @click=\"data = 3\">account表</a>\r\n                </div>\r\n            </div>\r\n            <div class=\"Bdata_content\">\r\n                <form>\r\n                    <div :class=\"{on: data == 1}\">\r\n                        <table class=\"infotable\">\r\n                            <tr class=\"table-header\">\r\n                                <th class=\"table-cell\">ID</th>\r\n                                <th class=\"table-cell\">名称</th>\r\n                            </tr>\r\n                            <tr v-for=\"(item, index) in info\"  v-bind:key=\"index\" class=\"table-row\">\r\n                                <td class=\"table-cell\">{{item.id}}</td>\r\n                                <td class=\"table-cell\">{{item.name}}</td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                    <div :class=\"{on: data == 2}\">\r\n                        <table class=\"businesstable\">\r\n                            <tr class=\"table-header\">\r\n                                <th class=\"table-cell\">ID</th>\r\n                                <th class=\"table-cell\">名称</th>\r\n                                <th class=\"table-cell\">星星</th>\r\n                                <th class=\"table-cell\">月售</th>\r\n                                <th class=\"table-cell\">起送费</th>\r\n                                <th class=\"table-cell\">配送费</th>\r\n                            </tr>\r\n                            <tr v-for=\"(item, index) in business\"  v-bind:key=\"index\" class=\"table-row\">\r\n                                <td class=\"table-cell\">{{item.id}}</td>\r\n                                <td class=\"table-cell\">{{item.name}}</td>\r\n                                <td class=\"table-cell\">{{item.star}}</td>\r\n                                <td class=\"table-cell\">{{item.sale}}</td>\r\n                                <td class=\"table-cell\">{{item.price}}</td>\r\n                                <td class=\"table-cell\">{{item.delivery}}</td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                    <div :class=\"{on: data == 3}\">\r\n                        <table class=\"accounttable\">\r\n                            <tr class=\"table-header\">\r\n                                <th class=\"table-cell\">ID</th>\r\n                                <th class=\"table-cell\">账号</th>\r\n                                <th class=\"table-cell\">密码</th>\r\n                            </tr>\r\n                            <tr v-for=\"(item, index) in account\"  v-bind:key=\"index\" class=\"table-row\">\r\n                                <td class=\"table-cell\">{{item.id}}</td>\r\n                                <td class=\"table-cell\">{{item.username}}</td>\r\n                                <td class=\"table-cell\">{{item.password}}</td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div class=\"Bdata_update\">\r\n                <div :class=\"{on: data == 1}\">\r\n                    <input type=\"text\" v-model=\"id1\" placeholder=\"请输入id\"><br>\r\n                    <button @click=\"del\">删除</button>\r\n                    <h2>-----------------------------------</h2>\r\n                    <input type=\"text\" v-model=\"id1\" placeholder=\"请输入id\"><br>\r\n                    <input type=\"text\" v-model=\"name1\" placeholder=\"请输入名称\"><br>\r\n                    <button @click=\"add\">添加</button>\r\n                    <button @click=\"update\">修改</button>\r\n                </div>\r\n                <div :class=\"{on: data == 2}\">\r\n                    <input type=\"text\" v-model=\"id2\" placeholder=\"请输入id\"><br>\r\n                    <button @click=\"del2\">删除</button>\r\n                    <h2>-----------------------------------</h2>\r\n                    <input type=\"text\" v-model=\"id2\" placeholder=\"请输入id\"><br>\r\n                    <input type=\"text\" v-model=\"name2\" placeholder=\"请输入名称\"><br>\r\n                    <input type=\"text\" v-model=\"star\" placeholder=\"请输入星星\"><br>\r\n                    <input type=\"text\" v-model=\"sale\" placeholder=\"请输入月售\"><br>\r\n                    <input type=\"text\" v-model=\"price\" placeholder=\"请输入起送费\"><br>\r\n                    <input type=\"text\" v-model=\"delivery\" placeholder=\"请输入配送费\"><br>\r\n                    <button @click=\"add2\">添加</button>\r\n                    <button @click=\"update2\">修改</button>\r\n                </div>\r\n\r\n                <!-- <div :class=\"{on: data == 3}\">\r\n                    <input type=\"text\" v-model=\"id3\" placeholder=\"请输入id\"><br>\r\n                    <button @click=\"del3\">删除</button>\r\n                    <h2>-----------------------------------</h2>\r\n                    <input type=\"text\" v-model=\"id3\" placeholder=\"请输入id\"><br>\r\n                    <input type=\"text\" v-model=\"name1\" placeholder=\"请输入名称\"><br>\r\n                    <button @click=\"add\">添加</button>\r\n                    <button @click=\"update\">修改</button>\r\n                </div> -->\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n  \r\n<script>\r\n    import HeaderTop from '../../components/HeaderTop/HeaderTop.vue';\r\n    import axios from \"axios\"\r\n    export default{\r\n        data(){\r\n            return{\r\n                data: 1,\r\n                //info表\r\n                info: [],\r\n                id1: '',\r\n                name1: '',\r\n                //business表\r\n                business: [],\r\n                id2: '',\r\n                name2: '',\r\n                star: '',\r\n                sale: '',\r\n                price: '',\r\n                delivery: '',\r\n                //account表\r\n                account: [],\r\n                id3: '',\r\n                username: '',\r\n                password: ''\r\n            }\r\n        },\r\n        mounted(){\r\n            this.all()\r\n        },\r\n        methods:{\r\n            all() {    \r\n                //查找info表全部数据\r\n                axios.get('http://127.0.0.1/list/all').then(res=>{\r\n                    this.info = res.data\r\n                }).catch(err=>{\r\n                    console.log(\"获取数据失败\" + err);\r\n                })\r\n                //查找business表全部数据\r\n                axios.get('http://127.0.0.1/business_list/all').then(res=>{\r\n                    this.business = res.data\r\n                }).catch(err=>{\r\n                    console.log(\"获取数据失败\" + err);\r\n                })\r\n                //查找account表全部数据\r\n                axios.get('http://127.0.0.1/account/all').then(res=>{\r\n                    this.account = res.data\r\n                }).catch(err=>{\r\n                    console.log(\"获取数据失败\" + err);\r\n                })\r\n            },\r\n            del() {\r\n                //删除\r\n                axios.get('http://127.0.0.1/list/del',{\r\n                    params: {\r\n                        id: this.id1\r\n                    }\r\n                }).then(res=>{\r\n                    // console.log(res.data);\r\n                    if(res.data.status == 200) {\r\n                        this.all()\r\n                    }else{\r\n                        this.$message({\r\n                            message: '删除失败',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                }).catch(err=>{\r\n                    console.log(\"操作失败\" + err);\r\n                })\r\n            },\r\n            del2() {\r\n                //删除\r\n                axios.get('http://127.0.0.1/business_list/del',{\r\n                    params: {\r\n                        id: this.id2\r\n                    }\r\n                }).then(res=>{\r\n                    // console.log(res.data);\r\n                    if(res.data.status == 200) {\r\n                        this.all()\r\n                    }else{\r\n                        this.$message({\r\n                            message: '删除失败',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                }).catch(err=>{\r\n                    console.log(\"操作失败\" + err);\r\n                })\r\n            },\r\n            add() {\r\n                //添加\r\n                axios.get('http://127.0.0.1/list/add',{\r\n                    params: {\r\n                        id: this.id1,\r\n                        name: this.name1,\r\n                    }\r\n                }).then(res=>{\r\n                    // console.log(res.data);\r\n                    if(res.data.status == 200) {\r\n                        this.all()\r\n                    }else{\r\n                        this.$message({\r\n                            message: '添加失败',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                }).catch(err=>{\r\n                    console.log(\"操作失败\" + err);\r\n                })\r\n            },\r\n            add2() {\r\n                //添加\r\n                axios.get('http://127.0.0.1/business_list/add',{\r\n                    params: {\r\n                        id: this.id2,\r\n                        name: this.name2,\r\n                        star: this.star,\r\n                        sale: this.sale,\r\n                        price: this.price,\r\n                        delivery: this.delivery\r\n                    }\r\n                }).then(res=>{\r\n                    // console.log(res.data);\r\n                    if(res.data.status == 200) {\r\n                        this.all()\r\n                    }else{\r\n                        this.$message({\r\n                            message: '添加失败',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                }).catch(err=>{\r\n                    console.log(\"操作失败\" + err);\r\n                })\r\n            },\r\n            update() {\r\n                //修改\r\n                axios.get('http://127.0.0.1/list/update',{\r\n                    params: {\r\n                    id: this.id1,\r\n                    name: this.name1,\r\n                    }\r\n                }).then(res=>{\r\n                    // console.log(res.data);\r\n                    if(res.data.status == 200) {\r\n                        this.all()\r\n                    }else{\r\n                        this.$message({\r\n                            message: '修改失败',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                }).catch(err=>{\r\n                    console.log(\"操作失败\" + err);\r\n                })\r\n            },\r\n            update2() {\r\n                //修改\r\n                axios.get('http://127.0.0.1/business_list/update',{\r\n                    params: {\r\n                        id: this.id2,\r\n                        name: this.name2,\r\n                        star: this.star,\r\n                        sale: this.sale,\r\n                        price: this.price,\r\n                        delivery: this.delivery\r\n                    }\r\n                }).then(res=>{\r\n                    // console.log(res.data);\r\n                    if(res.data.status == 200) {\r\n                        this.all()\r\n                    }else{\r\n                        // this.$message({\r\n                        //     message: '修改失败',\r\n                        //     type: 'error'\r\n                        // });\r\n                    }\r\n                }).catch(err=>{\r\n                    console.log(\"操作失败\" + err);\r\n                })\r\n            },\r\n        },\r\n        components:{\r\n            HeaderTop\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n    @import \"../../common/style/mixins.less\";\r\n    .Bdata{\r\n        height: 1000px;\r\n        //background-color: pink;\r\n        margin-top: 45px;\r\n        .Bdata_select{\r\n            .Bdata_title{\r\n                padding-top: 40px;\r\n                text-align: center;\r\n                >a{\r\n                    color: #333;\r\n                    font-size: 14px;\r\n                    padding-bottom: 4px;\r\n                    margin-left: 40px;\r\n                    &:first-child{\r\n                        margin-left: 0;\r\n                    }\r\n                    &.on{\r\n                        color: #51808f;\r\n                        font-weight: bold;\r\n                        border-bottom: 2px solid #51808f;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .Bdata_content{\r\n            margin-top: 30px;\r\n            >form{\r\n                >div{\r\n                    display: none;\r\n                    &.on{\r\n                        display: block;\r\n                    }\r\n                }\r\n            }\r\n            table{\r\n                width: 100%;\r\n                border-collapse: collapse;\r\n                .table-row{\r\n                    background-color: #f2f2f2;\r\n                    &:nth-child(even){\r\n                        background-color: #ffffff;\r\n                    }\r\n                }\r\n                .table-header{\r\n                    font-weight: bold;\r\n                    background-color: #82a5b1;\r\n                    color: white;\r\n                    text-align: center;\r\n                    padding: 10px;\r\n                    border-bottom: 1px solid #cccccc;\r\n                }\r\n                .table-cell{\r\n                    padding: 10px;\r\n                    border-bottom: 1px solid #dddddd;\r\n                    text-align: center;\r\n                    &:first-child{\r\n                        border-left: 1px solid #dddddd;\r\n                        &:last-child{\r\n                            border: none;\r\n                        }\r\n                    }\r\n                    &:last-child{\r\n                        border-right: 1px solid #dddddd;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .Bdata_update{\r\n            >div{\r\n                display: none;\r\n                &.on{\r\n                    display: block;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/*\r\n通过mutation间接更新state的多个方法的对象\r\n*/\nimport { reqAddress, reqFoodCategorys, reqShops } from '../api';\nimport { RECEIVE_ADDRESS, RECEIVE_CATEGORYS, RECEIVE_SHOPS } from './mutation-types';\nexport default {\n  //异步获取地址\n  async getAddress({\n    commit,\n    state\n  }) {\n    //发送异步ajax请求\n    const geohash = state.latitude + ',' + state.longitude;\n    const result = await reqAddress(geohash); //提交一个mutation\n\n    if (result.code === 0) {\n      const address = result.data;\n      commit(RECEIVE_ADDRESS, {\n        address\n      });\n    }\n  },\n\n  //异步获取食品分类\n  async getCategorys({\n    commit\n  }) {\n    //发送异步ajax请求\n    const result = await reqFoodCategorys(geohas); //提交一个mutation\n\n    if (result.code === 0) {\n      const categorys = result.data;\n      commit(RECEIVE_CATEGORYS, {\n        categorys\n      });\n    }\n  },\n\n  //异步获取商家\n  async getShops({\n    commit,\n    state\n  }) {\n    //发送异步ajax请求\n    const {\n      longitude,\n      latitude\n    } = state;\n    const result = await reqShops(longitude, latitude); //提交一个mutation\n\n    if (result.code === 0) {\n      const shops = result.data;\n      commit(RECEIVE_SHOPS, {\n        shops\n      });\n    }\n  }\n\n};","map":{"version":3,"names":["reqAddress","reqFoodCategorys","reqShops","RECEIVE_ADDRESS","RECEIVE_CATEGORYS","RECEIVE_SHOPS","getAddress","commit","state","geohash","latitude","longitude","result","code","address","data","getCategorys","geohas","categorys","getShops","shops"],"sources":["D:/Vue_xm/takeout2/src/store/actions.js"],"sourcesContent":["/*\r\n通过mutation间接更新state的多个方法的对象\r\n*/\r\n\r\nimport { reqAddress, reqFoodCategorys, reqShops } from '../api'\r\nimport { RECEIVE_ADDRESS, RECEIVE_CATEGORYS, RECEIVE_SHOPS } from './mutation-types'\r\n\r\n\r\nexport default{\r\n    //异步获取地址\r\n    async getAddress({commit, state}){\r\n        //发送异步ajax请求\r\n        const geohash = state.latitude + ',' + state.longitude\r\n        const result = await reqAddress(geohash)\r\n        //提交一个mutation\r\n        if(result.code === 0){\r\n            const address = result.data\r\n            commit(RECEIVE_ADDRESS, {address})\r\n        }\r\n    },\r\n    //异步获取食品分类\r\n    async getCategorys({commit}){\r\n        //发送异步ajax请求\r\n        const result = await  reqFoodCategorys(geohas)\r\n        //提交一个mutation\r\n        if(result.code === 0){\r\n            const categorys = result.data\r\n            commit(RECEIVE_CATEGORYS, {categorys})\r\n        }\r\n    },\r\n    //异步获取商家\r\n    async getShops({commit, state}){\r\n        //发送异步ajax请求\r\n        const {longitude, latitude} = state\r\n        const result = await reqShops(longitude,latitude)\r\n        //提交一个mutation\r\n        if(result.code === 0){\r\n            const shops = result.data\r\n            commit(RECEIVE_SHOPS, {shops})\r\n        }\r\n    }\r\n}"],"mappings":"AAAA;AACA;AACA;AAEA,SAASA,UAAT,EAAqBC,gBAArB,EAAuCC,QAAvC,QAAuD,QAAvD;AACA,SAASC,eAAT,EAA0BC,iBAA1B,EAA6CC,aAA7C,QAAkE,kBAAlE;AAGA,eAAc;EACV;EACA,MAAMC,UAAN,CAAiB;IAACC,MAAD;IAASC;EAAT,CAAjB,EAAiC;IAC7B;IACA,MAAMC,OAAO,GAAGD,KAAK,CAACE,QAAN,GAAiB,GAAjB,GAAuBF,KAAK,CAACG,SAA7C;IACA,MAAMC,MAAM,GAAG,MAAMZ,UAAU,CAACS,OAAD,CAA/B,CAH6B,CAI7B;;IACA,IAAGG,MAAM,CAACC,IAAP,KAAgB,CAAnB,EAAqB;MACjB,MAAMC,OAAO,GAAGF,MAAM,CAACG,IAAvB;MACAR,MAAM,CAACJ,eAAD,EAAkB;QAACW;MAAD,CAAlB,CAAN;IACH;EACJ,CAXS;;EAYV;EACA,MAAME,YAAN,CAAmB;IAACT;EAAD,CAAnB,EAA4B;IACxB;IACA,MAAMK,MAAM,GAAG,MAAOX,gBAAgB,CAACgB,MAAD,CAAtC,CAFwB,CAGxB;;IACA,IAAGL,MAAM,CAACC,IAAP,KAAgB,CAAnB,EAAqB;MACjB,MAAMK,SAAS,GAAGN,MAAM,CAACG,IAAzB;MACAR,MAAM,CAACH,iBAAD,EAAoB;QAACc;MAAD,CAApB,CAAN;IACH;EACJ,CArBS;;EAsBV;EACA,MAAMC,QAAN,CAAe;IAACZ,MAAD;IAASC;EAAT,CAAf,EAA+B;IAC3B;IACA,MAAM;MAACG,SAAD;MAAYD;IAAZ,IAAwBF,KAA9B;IACA,MAAMI,MAAM,GAAG,MAAMV,QAAQ,CAACS,SAAD,EAAWD,QAAX,CAA7B,CAH2B,CAI3B;;IACA,IAAGE,MAAM,CAACC,IAAP,KAAgB,CAAnB,EAAqB;MACjB,MAAMO,KAAK,GAAGR,MAAM,CAACG,IAArB;MACAR,MAAM,CAACF,aAAD,EAAgB;QAACe;MAAD,CAAhB,CAAN;IACH;EACJ;;AAhCS,CAAd"},"metadata":{},"sourceType":"module"}